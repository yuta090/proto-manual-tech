# 5章: プロンプト設計の技術

⏱️ **所要時間**: 座学15分

## 📋 この章の目標

- [ ] 良いプロンプトと悪いプロンプトの違いを理解する
- [ ] プロンプト設計の5原則を学ぶ
- [ ] 実務で使えるプロンプトパターンを知る

---

## 🎯 プロンプトとは

**プロンプト** = AI（Claude Code）への指示文

良いプロンプト → 期待通りの結果
悪いプロンプト → 意図しない結果

---

## ❌ 悪いプロンプトの例

### 例1: 曖昧すぎる

```
❌ 「ログイン機能を作って」

問題点:
- どんなログイン？メールアドレス？ユーザー名？
- パスワードのルールは？
- ログイン後はどこに遷移？
```

### 例2: 情報不足

```
❌ 「エラーが出ました。直してください」

問題点:
- どんなエラー？
- どの操作で発生？
- エラーメッセージは？
```

### 例3: 抽象的すぎる

```
❌ 「良い感じのデザインにして」

問題点:
- 「良い感じ」の基準が不明
- 色は？レイアウトは？
- モダン？クラシック？
```

---

## ✅ 良いプロンプトの例

### 例1: 具体的で明確

```
✅ 「メールアドレスとパスワードでログインできる機能を作ってください。
パスワードは8文字以上の英数字混在。
ログイン成功後はダッシュボードページ（dashboard.html）に遷移。
失敗時は「メールアドレスまたはパスワードが間違っています」と表示。」

結果: 期待通りのログイン機能が完成
```

### 例2: エラー情報を含む

```
✅ 「以下のエラーが出ました。修正してください。

エラーメッセージ:
Uncaught TypeError: Cannot read property 'value' of null at line 25

発生箇所: ログインボタンをクリックした時
使用ブラウザ: Chrome 120」

結果: 的確な修正提案
```

### 例3: デザインの具体例

```
✅ 「以下のデザインで実装してください:
- 背景色: 白（#fff）
- ボタン色: 青（#2563eb）
- ボタンサイズ: 縦48px、横100%
- 角丸: 8px
- ホバー時: 濃い青（#1e40af）に変化
- フォント: システムフォント、16px」

結果: 指定通りのデザイン
```

---

## 📏 プロンプト設計の5原則

### 1️⃣ 具体性（Specificity）

```
❌ 「データを保存して」
✅ 「ユーザーが入力したタスクをlocalStorageに保存してください。
キー名は'tasks'、値はJSON形式の配列。」
```

### 2️⃣ 文脈性（Context）

```
❌ 「この関数を直して」
✅ 「タスク追加ボタンをクリックした時にエラーが出ます。
この addTask() 関数を修正してください。
エラー: Uncaught ReferenceError: taskList is not defined」
```

### 3️⃣ 段階性（Step-by-step）

```
❌ 「複雑な機能を一度に全部作って」
✅ 「まず基本的なCRUD機能を作ってください。
次に検索機能を追加します。
その後、ソート機能を実装します。」
```

### 4️⃣ 制約性（Constraints）

```
❌ 「好きなように作って」
✅ 「以下の制約で実装してください:
- jQueryは使わない（Vanilla JSのみ）
- ファイルサイズは100KB以下
- IE11対応不要、モダンブラウザのみ」
```

### 5️⃣ 検証性（Verification）

```
❌ 「テストして」
✅ 「以下のテストケースで動作確認してください:
1. タスク名に空文字を入力 → エラー表示
2. タスク名に51文字入力 → エラー表示
3. タスク名に50文字入力 → 正常追加」
```

---

## 🎨 実務で使えるプロンプトパターン

### パターン1: 新規機能追加

```
テンプレート:
「[機能名]を追加してください。

要件:
- [必須要件1]
- [必須要件2]

UI:
- [画面構成]
- [ボタン配置]

動作:
- [ユーザー操作] → [システム応答]

制約:
- [技術的制約]」
```

**実例**:
```
「タスク検索機能を追加してください。

要件:
- タスク名で部分一致検索
- リアルタイム検索（入力中に絞り込み）

UI:
- タスク一覧の上に検索ボックスを配置
- プレースホルダー: 「タスクを検索...」

動作:
- 検索ボックスに入力 → 該当タスクのみ表示
- 空欄にすると全タスク表示

制約:
- 大文字小文字を区別しない」
```

### パターン2: バグ修正

```
テンプレート:
「以下のバグを修正してください。

症状:
- [何が起きるか]

再現手順:
1. [操作1]
2. [操作2]
3. [エラー発生]

エラー内容:
```
[エラーメッセージ]
```

期待動作:
- [本来どうあるべきか]」
```

**実例**:
```
「以下のバグを修正してください。

症状:
- タスク削除ボタンをクリックしても削除されない

再現手順:
1. タスクを3つ追加
2. 2番目のタスクの削除ボタンをクリック
3. 何も起きない

エラー内容:
```
Console: Uncaught TypeError: Cannot read property 'remove' of undefined
at deleteTask (index.html:45)
```

期待動作:
- 削除ボタンをクリックすると該当タスクが一覧から消える」
```

### パターン3: コード改善

```
テンプレート:
「以下の観点でコードを改善してください。

改善ポイント:
- [改善したい点1]
- [改善したい点2]

制約:
- [動作は変えない]
- [互換性を保つ]」
```

**実例**:
```
「以下の観点でコードを改善してください。

改善ポイント:
- 重複コードをまとめる
- 変数名をわかりやすくする
- コメントを追加する

制約:
- 現在の動作は一切変えない
- ブラウザ互換性を保つ」
```

---

## 💼 副業・業務での活用

### ケース1: クライアントからの曖昧な依頼

```
クライアント: 「お問い合わせフォームを作ってください」

悪い対応:
→ いきなり作り始める → 「これじゃない」

良い対応:
→ 詳細を確認してプロンプト化

「お問い合わせフォームを作ってください。

入力項目:
- お名前（必須、50文字以内）
- メールアドレス（必須、メール形式チェック）
- お問い合わせ内容（必須、500文字以内）

送信後:
- 「送信しました」とメッセージ表示
- 入力内容をメール送信（admin@example.comへ）

デザイン:
- 企業サイトに合わせたシンプルなデザイン
- スマホ対応必須」
```

### ケース2: 時間短縮テクニック

**プロンプトテンプレートを作っておく**

```
私のテンプレート集/
├─ 新規機能追加.md
├─ バグ修正.md
├─ デザイン変更.md
└─ コードレビュー.md
```

案件ごとにテンプレートを使い回し:
- 5分で詳細なプロンプトが完成
- Claude Codeが正確に実装
- 手戻りゼロで完成

**結果**: 開発速度2倍 → 時給アップ

---

## ✅ この章のまとめ

- **良いプロンプト**: 具体的、文脈あり、段階的、制約明確、検証可能
- **5原則**: 具体性・文脈性・段階性・制約性・検証性
- **パターン化**: 新規機能、バグ修正、コード改善のテンプレート
- **実務効果**: 手戻り削減 → 時間短縮 → 収入アップ

---

## 🔗 次のステップ

次は **6章: 経費精算アプリを作る** で、プロンプト設計を活かして最初から高品質なアプリを作ります！
