## **7. GitHub連携**

---

### 7.1 GitとGitHubの基本

バージョン管理システムGitと、そのホスティングサービスであるGitHubは、現代のソフトウェア開発において不可欠なツールです。コードの変更履歴を管理し、チームでの共同開発を効率的に進めるために利用されます。

- **Git**: ローカル環境でコードのバージョン管理を行うためのシステムです。

- **GitHub**: Gitリポジトリをホスティングし、コードの共有、共同開発、レビュー機能などを提供するプラットフォームです。

### 7.2 なぜGitHubが必要か？ - AIバイブコーディングの安全網

AIとのバイブコーディングは強力ですが、**AIが誤って全てのファイルを上書きしてしまう**という事例も数多く報告されています。例えば、AIに「リファクタリングして」と頼んだら、重要なファイルが予期せず削除されたり、動いていたコードが壊れたりすることがあります。

**GitHubは、ゲームの「セーブデータ」のような役割を果たします。**

- 💾 **定期的にコミット**: 作業の区切りでコードをGitHubに保存（コミット＆プッシュ）
- ⏮ **いつでも元に戻せる**: 問題が起きても、過去の正常な状態に一瞬で復元可能
- 🛡 **失敗を恐れない開発**: AIの提案を安心して試せる（ダメなら戻せばいい）

**おすすめの習慣**:
1. 機能の区切りごとにコミット（「ログイン機能完成」「デザイン調整」など）
2. AIに大きな変更を依頼する前に必ずコミット
3. 1日の終わりには必ずGitHubにプッシュ

これにより、AIとの共同開発が安全で安心なものになります。

### 7.3 個人開発とチーム開発の違い

AIを使った開発において、個人開発とチーム開発では**GitHubの使い方が大きく異なります**。

#### 個人開発の場合

6章で学んだように、個人開発では以下の方法が効率的です：

- **タスク管理**: ローカルの `tasks.md` や `TODO.md` ファイルでタスクリストを管理
- **ブランチ**: 基本的に `main` ブランチで直接作業（シンプルさ優先）
- **コミット**: 自分のペースで自由にコミット

これは**一人で全てをコントロールできる**ため、シンプルで素早く開発できます。

#### チーム開発の場合

しかし、**複数人で開発する場合**、個人開発の方法では問題が起こります：

❌ **個人開発の方法だと起こる問題**:
- 誰かが `main` ブランチで作業中、別の人も同じブランチで変更すると衝突
- ローカルの `tasks.md` は自分のPCにしかないため、他のメンバーが見られない
- AIが生成したコードを直接 `main` にプッシュすると、動かないコードでチーム全体がストップ

✅ **チーム開発では以下が必要**:
- **issue**: チーム全員が見られるタスク管理（GitHubのWebサイト上で管理）
- **ブランチ**: 各メンバーが独立した作業空間で開発
- **プルリクエスト（PR）**: コードをチームでレビューしてから `main` に統合

次のセクションで、これらの概念を初心者向けに説明します。

### 7.4 チーム開発の基礎知識 - ブランチ・issue・プルリクエスト

#### 7.4.1 ブランチ（Branch）とは？

**ブランチ = 独立した作業空間**

ゲームの「別セーブデータ」のようなものです。`main` ブランチ（本番のコード）を触らずに、新しい機能を試せる安全な場所です。

**具体例**:
```bash
# 新しいブランチを作成して切り替え
git checkout -b feature/login-form

# このブランチで自由に作業
# （mainブランチには影響しない）

# 作業完了後、mainに統合（マージ）
```

**チーム開発での使い方**:
- 各メンバーが**自分専用のブランチ**で作業
- メンバーAが `feature/user-profile` ブランチ、メンバーBが `feature/payment` ブランチ
- お互いのコードが干渉せず、並行して開発可能

**AIと一緒に使う場合の注意**:
```bash
# AIに大きな変更を依頼する前に、専用ブランチを作成
git checkout -b ai/refactor-auth

# AIに依頼: 「認証システムをリファクタリングして」
# → 失敗しても、ブランチごと削除すればOK
```

#### 7.4.2 issue（イシュー）とは？

**issue = チーム全員が見られるタスク・バグ管理**

個人開発の `tasks.md` をGitHub上に移動し、チーム全員で共有できるようにしたものです。

**何ができるか**:
- タスクの作成・割り当て（「田中さん、このバグ修正お願い」）
- 進捗状況の共有（Open → In Progress → Closed）
- 議論・質問（「このデザインどう思う？」）
- AIが生成したコード問題の報告

**具体例**:
```
Issue #23: ログインフォームのバリデーションが機能しない

担当: 田中
ラベル: bug, priority-high
期限: 2025-10-15

【問題】
メールアドレスの形式チェックが動作していない

【再現手順】
1. ログインフォームを開く
2. 「test」と入力して送信
3. エラーが表示されない（本来はエラーが出るべき）

【解決策の案】
バリデーション関数を見直す
```

**AIとissueを組み合わせる**:
```bash
# issueを見ながらAIに依頼
/sc:implement issue #23のバグを修正してください
```

#### 7.4.3 プルリクエスト（Pull Request / PR）とは？

**プルリクエスト = 「このコード、mainに統合していい？」とチームに確認する仕組み**

AIが生成したコードを、いきなり `main` ブランチに入れるのは危険です。プルリクエストを使えば、**チームでレビュー**してから統合できます。

**流れ**:
```
1. ブランチで作業完了
   └─ feature/login-form ブランチでコード作成

2. GitHubにプルリクエストを作成
   └─ 「feature/login-form を main に統合したい」

3. チームメンバーがレビュー
   ├─ コードを見てコメント
   ├─ 「ここ、こう直した方がいいよ」
   └─ AIが生成したコードの品質チェック

4. 修正・改善

5. 承認（Approve）されたらマージ
   └─ main ブランチに統合完了
```

**プルリクエストの例**:
```markdown
## PR #45: ログイン機能を追加

**関連issue**: #23, #24

**変更内容**:
- ログインフォームのUI作成（AI生成 + 手動調整）
- バリデーション機能の実装
- E2Eテストの追加

**確認事項**:
- [ ] ログインが正常に動作する
- [ ] エラーメッセージが適切に表示される
- [ ] レスポンシブデザインが正しい

**スクリーンショット**:
[ログイン画面のスクリーンショット]

🤖 Generated with Claude Code
```

**AIとプルリクエストを組み合わせる**:
- AIに生成させたコードをPRでチームレビュー
- AIの提案に問題があれば、PRのコメントで指摘
- 修正後、再度AIに調整を依頼

#### 7.4.4 チーム開発でAIと一緒に作業する際のワークフロー

**推奨フロー**:

```
ステップ1: issueを確認
├─ 自分に割り当てられたタスクをissueで確認
└─ 例: issue #30「決済機能の実装」

ステップ2: ブランチを作成
├─ git checkout -b feature/payment-#30
└─ issue番号をブランチ名に含めると分かりやすい

ステップ3: AIに実装を依頼
├─ /sc:implement issue #30の決済機能を実装してください
├─ AIがコード生成
└─ 定期的にコミット（セーブポイント作成）

ステップ4: ローカルでテスト
├─ 目視確認
├─ /sc:test でE2Eテスト
└─ 問題があればAIに修正依頼

ステップ5: GitHubにプッシュ & PR作成
├─ git push origin feature/payment-#30
└─ GitHubでプルリクエスト作成

ステップ6: チームレビュー
├─ チームメンバーがコードレビュー
├─ コメントや改善提案を受け取る
└─ 必要に応じてAIに再調整依頼

ステップ7: マージ
├─ 承認されたら main にマージ
└─ issue #30 を Close（完了）
```

**重要なポイント**:

1. **絶対に main ブランチで直接作業しない**
   - AIの予期せぬ変更から main を守る
   - 必ずブランチを作成

2. **issueとブランチを紐付ける**
   - ブランチ名に issue番号を含める（`feature/login-#23`）
   - PRにissue番号を記載（`Closes #23`）

3. **AIが生成したコードは必ずレビュー**
   - プルリクエストで「🤖 AIが生成したコード」と明記
   - チームメンバーによるダブルチェック

4. **小さく・頻繁にコミット**
   - AIの変更を小さな単位で保存
   - 問題があればピンポイントで元に戻せる

### 7.5 Super ClaudeとGitHubの連携

Super Claudeは、GitHubとの連携を強化することで、開発ワークフローをさらにスムーズにします。AIが生成したコードを直接GitHubリポジトリにプッシュしたり、既存のリポジトリからコンテキストを読み込んだりすることが可能です。

#### ✅ GitHubリポジトリの初期化と連携

Super Claudeで開発しているプロジェクトをGitHubに連携するには、まずローカルでGitリポジトリを初期化し、GitHubにリモートリポジトリを作成します。

1. **Gitリポジトリの初期化**: プロジェクトフォルダで以下のコマンドを実行します。

1. **GitHubリポジトリの作成**: GitHub上で新しいリポジトリを作成し、リモートとして追加します。

1. **Super ClaudeのGitHub連携設定**: Super Claudeの設定ファイル（`~/.claude-code/config.json`など）にGitHubの認証情報を設定することで、AIがGitHubと連携できるようになります。通常はGitHubのPersonal Access Tokenを使用します。

#### ✅ AIによるコミットとプルリクエストの作成

Super Claudeは、`implement`コマンドなどでコードを生成した後、その変更を自動的にコミットし、プルリクエストを作成する機能を提供します。これにより、開発者はコードの品質向上やレビュープロセスに集中できます。

```bash
# コード生成後、自動的にコミットとプルリクエストを作成
sc implement "新しい機能を追加" --commit --pr
```

**チーム開発での活用**:
- AIにコード生成を依頼 → 自動でブランチ作成 → 自動でPR作成
- PRにはAIが生成した変更内容の説明が自動で記載される
- チームメンバーはPRをレビューして承認・マージ

### 7.6 CI/CDパイプラインの構築

CI/CD (継続的インテグレーション/継続的デリバリー) は、コードの変更を頻繁に統合し、自動的にテスト・デプロイするプラクティスです。Super Claudeは、CI/CDパイプラインの構築と最適化を支援します。

#### ✅ AIによるCI/CD設定ファイルの生成

Super Claudeの`design`コマンドや`workflow`コマンドは、GitHub ActionsやCircleCIなどのCI/CDツール向けの設定ファイルを生成することができます。これにより、手動での設定ミスを減らし、迅速なパイプライン構築を支援します。

```bash
# GitHub ActionsのCI/CD設定ファイルを生成
sc design --type ci/cd --platform github-actions
```

#### ✅ AIによるテストとデプロイの自動化

Super Claudeの`test`コマンドは、生成されたコードに対するテストコードを自動生成し、CI/CDパイプラインに組み込むことができます。また、`deploy`コマンドは、指定された環境へのデプロイプロセスを自動化します。

```bash
# テストコードを自動生成し、CI/CDに組み込む
sc test --integrate-ci

# 本番環境へのデプロイを自動化
sc deploy --target production
```

---

---

